# Speech Recognition Bot

Этот проект включает скрипты, которые реализуют ботов для платформ **VK** и **Telegram**. Каждый скрипт отвечает за интеграцию и взаимодействие с соответствующей платформой, обеспечивая автоматизацию и обработку пользовательских запросов с использованием технологий распознавания речи и обработки естественного языка.
### Примеры:
![Support_bot](https://github.com/user-attachments/assets/78660d91-d895-41aa-8738-673cdc16114a)

### Ссылки запущеных на ботов
[VK_bot](https://vk.com/im/convo/-227165703?entrypoint=profile_page)
[TG_bot](https://t.me/VttPrivateBot)

## Структура проекта

Проект организован следующим образом:

- `VK_bot.py`: Скрипт для запуска бота ВКонтакте.
- `Telegram_bot.py`: Скрипт для запуска бота Telegram.
- `questions.json`: Файл с вопросами и ответами для обработки естественного языка.
- `requirements.txt`: Файл с зависимостями проекта.
- `.env`: Файл с конфиденциальными данными и настройками.

## Установка и запуск 

### 1. Клонируйте репозиторий:
```bash
git clone https://github.com/aqwarius2003/Speech_recognition_bot.git
```

### 2. Создайте и активируйте виртуальное окружение:

- **Для Linux/Mac:**
```bash
python -m venv venv
source venv/bin/activate
```

- **Для Windows:**
```bash
python -m venv venv
venv\Scripts\activate
```

### 3. Установите зависимости:
```bash
pip install -r requirements.txt
```

### 4. Настройка учетных данных для DialogFlow

Этот раздел поможет вам настроить учетные данные для вашего бота поддержки, использующего DialogFlow.

#### Шаги по настройке учетных данных:

1. **Создание проекта в Google Cloud:**
   - Перейдите в [Google Cloud Console](https://console.cloud.google.com/).
   - Нажмите на выпадающее меню в верхней части страницы, рядом с логотипом Google Cloud, и выберите **Создать проект**.
   - Введите имя проекта и выберите организацию (если применимо).
   - Нажмите **Создать**. Ваш проект будет создан, и вы будете перенаправлены на его панель управления.

2. **Создание агента в DialogFlow:**
   - Перейдите на [DialogFlow Console](https://dialogflow.cloud.google.com/).
   - Нажмите на кнопку **Создать агента**.
   - Введите имя агента, выберите язык и временную зону.
   - В выпадающем меню **Проект** выберите проект, который вы только что создали в Google Cloud.
   - Нажмите **Создать**. Ваш агент будет создан и связан с проектом Google Cloud.

3. **Создание учетных данных:**
   - Перейдите в раздел **IAM & Admin > Service Accounts** в Google Cloud Console.
   - Нажмите **Create Service Account**.
   - Укажите имя и описание для учетной записи, затем нажмите **Create**.
   - На следующем экране выберите роли, которые необходимы для вашего проекта (например, **Dialogflow API Client**).
   - Нажмите **Continue**, затем **Done**.
   - Найдите созданную учетную запись и нажмите на нее.
   - Перейдите на вкладку **Keys** и нажмите **Add Key > Create New Key**.
   - Выберите формат **JSON** и нажмите **Create**. Файл с ключами будет загружен на ваш компьютер.

4. **Установка переменной окружения `GOOGLE_APPLICATION_CREDENTIALS`:**
   - Переместите файл с учетными данными в каталог вашего проекта.
   - Установите переменную окружения, выполнив следующую команду в терминале (находясь в виртуальном окружении):
   ```bash
   export GOOGLE_APPLICATION_CREDENTIALS="/path/to/your/credentials.json"
   ```

### 6. Конфигурация проекта

Для корректной работы проекта необходимо создать файл `.env` в корневом каталоге, где будут храниться конфиденциальные данные, такие как токены для доступа к API платформ (VK, Telegram), а также настройки для DialogFlow.

Пример содержимого файла `.env`:

```env
VK_TOKEN='этот токен для бота в vk'(API сообществва)
TG_BOT_TOKEN='этот токен для бота в телеграм'
TG_CHAT_ID='id чата в телеграм, куда приходят сообщения логов'
GOOGLE_APPLICATION_CREDENTIALS=/path/to/your/credentials.json
GOOGLE_CLOUD_PROJECT_ID=your_project_id
```

### 7. Обучение бота
Добавьте `Intents` в вашего агента DialogFlow. Это можно сделать как вручную (см. документацию), так и с помощью скрипта:

Создайте  файл `questions.json`, который будет содержать намерения (intents) и соответствующие им вопросы и ответы. Этот файл используется для автоматического создания намерений в DialogFlow.

#### Пример файла `questions.json`

```json
{
  "intent_name": {
    "questions": ["вопрос 1", "вопрос 2", "вопрос 3"],
    "answer": "ответ"
  },
  "another_intent_name": {
    "questions": ["еще один вопрос 1", "еще один вопрос 2"],
    "answer": "еще один ответ"
  }
}
```
После создания файла questions.json, вы можете использовать скрипт для автоматического добавления этих намерений в вашего агента DialogFlow:

           
```bash
python DialogFlow_learning_script.py
```

Этот скрипт прочитает данные из файла questions.json и создаст соответствующие намерения в вашем проекте DialogFlow.

### 8. Запуск бота:

```bash
python VK_bot.py
python Telegram_bot.py
```

## Цели проекта
Код написан в учебных целях — это урок в курсе по Python и веб-разработке на сайте [Devman](https://dvmn.org/).
